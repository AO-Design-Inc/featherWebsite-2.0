import{S as Y,i as Z,s as ee,e as h,j as A,t as W,c as f,a as p,d as o,l as y,g as E,_ as K,b as i,f as F,E as l,J as te,F as Q,u as ae,a0 as ne,O as se}from"../chunks/vendor-8aa06787.js";function le(D){let t;return{c(){t=W("Done!")},l(e){t=E(e,"Done!")},m(e,r){F(e,t,r)},d(e){e&&o(t)}}}function oe(D){let t;return{c(){t=W("Downloading...")},l(e){t=E(e,"Downloading...")},m(e,r){F(e,t,r)},d(e){e&&o(t)}}}function ie(D){let t;return{c(){t=W("Download Feather")},l(e){t=E(e,"Download Feather")},m(e,r){F(e,t,r)},d(e){e&&o(t)}}}function re(D){let t,e,r,u,_,n,N,v,s,a,g,w,j,B,x,O,b,P,k,G,T,X,$,I,R,q;function C(m,V){if(m[0]==="DOWNLOAD")return ie;if(m[0]==="DOWNLOADING")return oe;if(m[0]==="DONE")return le}let S=C(D),c=S&&S(D);return{c(){t=h("div"),e=h("div"),r=h("div"),u=A(),_=h("div"),n=W("Welcome to Feather!"),N=A(),v=h("div"),s=A(),a=h("div"),g=W("Thanks for signing up."),w=A(),j=h("div"),B=A(),x=h("div"),O=h("p"),b=h("span"),c&&c.c(),P=A(),k=h("span"),G=W("if you haven't already."),T=h("br"),X=W(" Or go to the app and login if it's already installed."),$=A(),I=h("div"),this.h()},l(m){t=f(m,"DIV",{id:!0,class:!0});var V=p(t);e=f(V,"DIV",{id:!0,class:!0});var d=p(e);r=f(d,"DIV",{style:!0}),p(r).forEach(o),u=y(d),_=f(d,"DIV",{id:!0,class:!0});var J=p(_);n=E(J,"Welcome to Feather!"),J.forEach(o),N=y(d),v=f(d,"DIV",{class:!0}),p(v).forEach(o),s=y(d),a=f(d,"DIV",{id:!0,class:!0});var U=p(a);g=E(U,"Thanks for signing up."),U.forEach(o),w=y(d),j=f(d,"DIV",{class:!0}),p(j).forEach(o),B=y(d),x=f(d,"DIV",{id:!0,class:!0});var z=p(x);O=f(z,"P",{class:!0});var L=p(O);b=f(L,"SPAN",{class:!0});var H=p(b);c&&c.l(H),H.forEach(o),P=y(L),k=f(L,"SPAN",{class:!0});var M=p(k);G=E(M,"if you haven't already."),T=f(M,"BR",{}),X=E(M," Or go to the app and login if it's already installed."),M.forEach(o),L.forEach(o),z.forEach(o),$=y(d),I=f(d,"DIV",{class:!0}),p(I).forEach(o),d.forEach(o),V.forEach(o),this.h()},h(){K(r,"width","100%"),K(r,"height","30px"),i(_,"id","welcome-head"),i(_,"class","svelte-vs3jv7"),i(v,"class","spacer text svelte-vs3jv7"),i(a,"id","thanks-head"),i(a,"class","svelte-vs3jv7"),i(j,"class","spacer text two svelte-vs3jv7"),i(b,"class","butt svelte-vs3jv7"),i(k,"class","trans svelte-vs3jv7"),i(O,"class","svelte-vs3jv7"),i(x,"id","download-head"),i(x,"class","svelte-vs3jv7"),i(I,"class","spacer text three svelte-vs3jv7"),i(e,"id","center-container"),i(e,"class","svelte-vs3jv7"),i(t,"id","welcome"),i(t,"class","svelte-vs3jv7")},m(m,V){F(m,t,V),l(t,e),l(e,r),l(e,u),l(e,_),l(_,n),l(e,N),l(e,v),l(e,s),l(e,a),l(a,g),l(e,w),l(e,j),l(e,B),l(e,x),l(x,O),l(O,b),c&&c.m(b,null),l(O,P),l(O,k),l(k,G),l(k,T),l(k,X),l(e,$),l(e,I),R||(q=te(b,"click",D[1].download),R=!0)},p(m,[V]){S!==(S=C(m))&&(c&&c.d(1),c=S&&S(m),c&&(c.c(),c.m(b,null)))},i:Q,o:Q,d(m){m&&o(t),c&&c.d(),R=!1,q()}}}function ce(D,t,e){let r,u,_,n={windows:"",mac:"",mac64:"",linux:""},N;ae(async()=>{console.log("This works: ",window.navigator.userAgent),u={Value:await window.navigator.userAgent,contains:function(a){return this.Value.indexOf(a)>=0},lacks:function(a){return this.Value.indexOf(a)<0},match:function(a){return this.Value.match(a)},matches:function(a){return this.Value.match(a)!=null}},_=()=>{let s=null;var a="(n/a)",g;switch(!0){case(u.contains("OS X")&&u.lacks("Android")):g=u.match(/OS X ((\d+[._])+\d+)\b/),a=g[1].replace(/_/g,"."),parseFloat(a)<10.15?s="Mac OS":s="Mac OS 64";break;case(u.contains("like Mac OS X")&&u.contains("iPhone")):s="iOS";break;case u.contains("Windows"):s="Windows";break;case System.WelcomeOSName==="Android":s="Android";break;case(u.contains("Linux")&&u.lacks("Android")):s="Linux";break}return s},N=s=>{v.download(),fetch("https://api.github.com/repos/AO-Design-Inc/Feather-Releases/releases/latest").then(a=>a.json()).then(a=>{console.log("A",s);for(let g=0;g<a.assets.length;g++){let w=a.assets[g].browser_download_url;w.endsWith(".exe")===!0&&n.windows===""&&(n.windows=w),w.endsWith(".12.dmg")===!0&&n.mac===""&&(n.mac=w),w.endsWith("arm64.dmg")===!0&&n.mac64===""&&(n.mac64=w),w.endsWith(".12.AppImage")===!0&&n.linux===""&&(n.linux=w)}if(s==="Mac OS")return console.log("Downloading Mac Build",n.mac),window.open(n.mac,"download"),v.done(),n.mac;if(s==="Windows")return console.log("Downloading Windows Build",n.windows),window.open(n.windows,"download"),v.done(),n.windows;if(s==="Linux")return console.log("Downloading Linux Build",n.linux),window.open(n.linux,"download"),v.done(),n.linux;if(s==="Mac OS 64")return console.log("Downloading Mac 64 Build",n.mac64),window.open(n.mac64,"download"),v.done(),n.mac64}).catch(a=>console.log("Error: ",a))}});const v=ne("DOWNLOAD",{DOWNLOAD:{download:"DOWNLOADING"},DOWNLOADING:{_enter(){_(),N(_())},done:"DONE"},DONE:{_enter(){this.change.debounce(6e3)},change:"DOWNLOAD"}});return se(D,v,s=>e(0,r=s)),[r,v]}class ue extends Y{constructor(t){super();Z(this,t,ce,re,ee,{})}}export{ue as default};
