import{S as Y,i as Z,s as ee,e as h,j as x,t as A,c as f,a as p,d as o,l as W,g as E,_ as K,b as i,f as F,E as l,J as te,F as Q,u as ae,$ as se,O as ne}from"../chunks/vendor-08ba1c64.js";function le(D){let t;return{c(){t=A("Done!")},l(e){t=E(e,"Done!")},m(e,r){F(e,t,r)},d(e){e&&o(t)}}}function oe(D){let t;return{c(){t=A("Downloading...")},l(e){t=E(e,"Downloading...")},m(e,r){F(e,t,r)},d(e){e&&o(t)}}}function ie(D){let t;return{c(){t=A("Download Feather")},l(e){t=E(e,"Download Feather")},m(e,r){F(e,t,r)},d(e){e&&o(t)}}}function re(D){let t,e,r,u,_,s,N,v,n,a,g,w,j,B,y,O,b,P,k,$,G,T,X,I,R,q;function C(m,V){if(m[0]==="DOWNLOAD")return ie;if(m[0]==="DOWNLOADING")return oe;if(m[0]==="DONE")return le}let S=C(D),c=S&&S(D);return{c(){t=h("div"),e=h("div"),r=h("div"),u=x(),_=h("div"),s=A("Welcome to Feather!"),N=x(),v=h("div"),n=x(),a=h("div"),g=A("Thanks for stopping by!"),w=x(),j=h("div"),B=x(),y=h("div"),O=h("p"),b=h("span"),c&&c.c(),P=x(),k=h("span"),$=A("if you haven't already."),G=h("br"),T=A(" Or go to the app and login if it's already installed."),X=x(),I=h("div"),this.h()},l(m){t=f(m,"DIV",{id:!0,class:!0});var V=p(t);e=f(V,"DIV",{id:!0,class:!0});var d=p(e);r=f(d,"DIV",{style:!0}),p(r).forEach(o),u=W(d),_=f(d,"DIV",{id:!0,class:!0});var J=p(_);s=E(J,"Welcome to Feather!"),J.forEach(o),N=W(d),v=f(d,"DIV",{class:!0}),p(v).forEach(o),n=W(d),a=f(d,"DIV",{id:!0,class:!0});var U=p(a);g=E(U,"Thanks for stopping by!"),U.forEach(o),w=W(d),j=f(d,"DIV",{class:!0}),p(j).forEach(o),B=W(d),y=f(d,"DIV",{id:!0,class:!0});var z=p(y);O=f(z,"P",{class:!0});var L=p(O);b=f(L,"SPAN",{class:!0});var H=p(b);c&&c.l(H),H.forEach(o),P=W(L),k=f(L,"SPAN",{class:!0});var M=p(k);$=E(M,"if you haven't already."),G=f(M,"BR",{}),T=E(M," Or go to the app and login if it's already installed."),M.forEach(o),L.forEach(o),z.forEach(o),X=W(d),I=f(d,"DIV",{class:!0}),p(I).forEach(o),d.forEach(o),V.forEach(o),this.h()},h(){K(r,"width","100%"),K(r,"height","30px"),i(_,"id","welcome-head"),i(_,"class","svelte-vs3jv7"),i(v,"class","spacer text svelte-vs3jv7"),i(a,"id","thanks-head"),i(a,"class","svelte-vs3jv7"),i(j,"class","spacer text two svelte-vs3jv7"),i(b,"class","butt svelte-vs3jv7"),i(k,"class","trans svelte-vs3jv7"),i(O,"class","svelte-vs3jv7"),i(y,"id","download-head"),i(y,"class","svelte-vs3jv7"),i(I,"class","spacer text three svelte-vs3jv7"),i(e,"id","center-container"),i(e,"class","svelte-vs3jv7"),i(t,"id","welcome"),i(t,"class","svelte-vs3jv7")},m(m,V){F(m,t,V),l(t,e),l(e,r),l(e,u),l(e,_),l(_,s),l(e,N),l(e,v),l(e,n),l(e,a),l(a,g),l(e,w),l(e,j),l(e,B),l(e,y),l(y,O),l(O,b),c&&c.m(b,null),l(O,P),l(O,k),l(k,$),l(k,G),l(k,T),l(e,X),l(e,I),R||(q=te(b,"click",D[1].download),R=!0)},p(m,[V]){S!==(S=C(m))&&(c&&c.d(1),c=S&&S(m),c&&(c.c(),c.m(b,null)))},i:Q,o:Q,d(m){m&&o(t),c&&c.d(),R=!1,q()}}}function ce(D,t,e){let r,u,_,s={windows:"",mac:"",mac64:"",linux:""},N;ae(async()=>{console.log("This works: ",window.navigator.userAgent),u={Value:await window.navigator.userAgent,contains:function(a){return this.Value.indexOf(a)>=0},lacks:function(a){return this.Value.indexOf(a)<0},match:function(a){return this.Value.match(a)},matches:function(a){return this.Value.match(a)!=null}},_=()=>{let n=null;var a="(n/a)",g;switch(!0){case(u.contains("OS X")&&u.lacks("Android")):g=u.match(/OS X ((\d+[._])+\d+)\b/),a=g[1].replace(/_/g,"."),parseFloat(a)<10.15?n="Mac OS":n="Mac OS 64";break;case(u.contains("like Mac OS X")&&u.contains("iPhone")):n="iOS";break;case u.contains("Windows"):n="Windows";break;case System.WelcomeOSName==="Android":n="Android";break;case(u.contains("Linux")&&u.lacks("Android")):n="Linux";break}return n},N=n=>{v.download(),fetch("https://api.github.com/repos/AO-Design-Inc/Feather-Releases/releases/latest").then(a=>a.json()).then(a=>{console.log("A",n);for(let g=0;g<a.assets.length;g++){let w=a.assets[g].browser_download_url;w.endsWith(".exe")===!0&&s.windows===""&&(s.windows=w),w.endsWith(".12.dmg")===!0&&s.mac===""&&(s.mac=w),w.endsWith("arm64.dmg")===!0&&s.mac64===""&&(s.mac64=w),w.endsWith(".12.AppImage")===!0&&s.linux===""&&(s.linux=w)}if(n==="Mac OS")return console.log("Downloading Mac Build",s.mac),window.open(s.mac,"download"),v.done(),s.mac;if(n==="Windows")return console.log("Downloading Windows Build",s.windows),window.open(s.windows,"download"),v.done(),s.windows;if(n==="Linux")return console.log("Downloading Linux Build",s.linux),window.open(s.linux,"download"),v.done(),s.linux;if(n==="Mac OS 64")return console.log("Downloading Mac 64 Build",s.mac64),window.open(s.mac64,"download"),v.done(),s.mac64}).catch(a=>console.log("Error: ",a))}});const v=se("DOWNLOAD",{DOWNLOAD:{download:"DOWNLOADING"},DOWNLOADING:{_enter(){_(),N(_())},done:"DONE"},DONE:{_enter(){this.change.debounce(6e3)},change:"DOWNLOAD"}});return ne(D,v,n=>e(0,r=n)),[r,v]}class ue extends Y{constructor(t){super();Z(this,t,ce,re,ee,{})}}export{ue as default};
